## PMS API Configuration â€” Base
## Override per environment via config.development.yaml / config.production.yaml
## All values can also be overridden via env vars with PMS_ prefix:
##   e.g. PMS_SERVER_PORT=9090, PMS_DATABASE_CORE_HOST=db.prod.local

server:
  port: 8080
  read_timeout: 15s
  write_timeout: 15s
  idle_timeout: 60s

database:
  core:
    host: localhost
    port: 5432
    database: pms_db
    username: postgres
    password: postgres
    ssl_mode: disable
    max_open_conns: 25
    max_idle_conns: 10
    conn_max_lifetime: 5m
  hangfire:
    host: localhost
    port: 5432
    database: pms_db
    username: postgres
    password: postgres
    ssl_mode: disable
  erp_data:
    host: localhost
    port: 1433
    database: ERP_DATA
    username: ""
    password: ""
  staff_id_mask:
    host: localhost
    port: 1433
    database: CBN_LAPTOP_REG
    username: ""
    password: ""
  email_service:
    host: localhost
    port: 1433
    database: XXCBN_EMAIL_SERVICE
    username: ""
    password: ""
  sas:
    host: localhost
    port: 1433
    database: SAS
    username: ""
    password: ""

jwt:
  secret: "CHANGE_ME_IN_PRODUCTION"
  issuer: "https://pms-api.local"
  audience: "pms-api"
  token_expiry_minutes: 20m
  refresh_token_expiry: 168h  # 7 days

active_directory:
  ldap_url: "ldap://localhost:389"
  domain: "CENBANK"
  username: ""
  password: ""

email:
  smtp_server: "localhost"
  smtp_port: 25
  sender_email: ""
  sender_password: ""
  sender_display: ""
  application_url: "http://localhost:8080"
  to_all_staff: ""

bitly:
  api_key: ""
  base_url: "https://api-ssl.bitly.com/v4"

cors:
  allow_all: true
  allowed_origins:
    - "*"
  allowed_methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
    - PATCH
  allowed_headers:
    - "*"

logging:
  level: info
  format: json
  file_path: logs/pms-api.log
  max_size_mb: 100
  max_backups: 10
  max_age_days: 10
  compress: true
  console_enabled: true
  file_enabled: true

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0

api_key: ""
hangfire_schema: "WebAPiHangfire"

recaptcha:
  site_key: ""
  secret_key: ""
  verify_url: "https://www.google.com/recaptcha/api/siteverify"

password_gen:
  max_identical_consecutive_chars: 2
  lowercase_chars: "abcdefghijklmnopqrstuvwxyz"
  uppercase_chars: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
  numeric_chars: "0123456789"
  special_chars: "!@#$%^&*()-_=+[]{}|;:,.<>?"
  space_char: " "
  password_length_min: 8
  password_length_max: 128

general:
  domain: ""
  name: "PMS"
  logo: ""
  no_reply_email: ""

rsa:
  base_url: ""
  api_key: ""

storage:
  base_path: "./uploads"
